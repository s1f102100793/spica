(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{5975:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return s(2997)}])},5511:function(e,a,s){"use strict";s.d(a,{$:function(){return i}});var n=s(5893),t=s(7889),r=s.n(t);let i=()=>(0,n.jsx)("div",{className:r().container,children:(0,n.jsxs)("div",{className:r().content,children:[(0,n.jsx)("div",{className:r().logoSection,children:(0,n.jsx)("div",{className:r().logo,children:"Spica"})}),(0,n.jsxs)("div",{className:r().navSection,children:[(0,n.jsxs)("div",{className:r().navItem,children:[(0,n.jsx)("div",{className:r().navLabel,children:"サービスtoha"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"})]}),(0,n.jsxs)("div",{className:r().navItem,children:[(0,n.jsx)("div",{className:r().navLabel,children:"サービスaaaaaaaaaaaaaa"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"})]}),(0,n.jsxs)("div",{className:r().navItem,children:[(0,n.jsx)("div",{className:r().navLabel,children:"サービス"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービスaaaaaaaaaaaaa1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"})]}),(0,n.jsxs)("div",{className:r().navItem,children:[(0,n.jsx)("div",{className:r().navLabel,children:"サービス"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービスaaaaaaaaaaaaa1"}),(0,n.jsx)("a",{className:r().subNavItem,children:"サービス1"})]})]})]})})},1587:function(e,a,s){"use strict";s.d(a,{h:function(){return c}});var n=s(5893),t=s(1163),r=s(7294),i=s(1014),l=s.n(i);let c=()=>{let[e,a]=(0,r.useState)(!1),s=(0,t.useRouter)(),i=async()=>{s.push("/login")},c=()=>{s.push("/signup")};return(0,r.useEffect)(()=>{let e=()=>{window.innerWidth>=800&&a(!1)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("div",{className:l().left,children:"Spica"}),(0,n.jsxs)("div",{className:l().right,children:[(0,n.jsx)("span",{children:"ビジョン"}),(0,n.jsx)("span",{children:"ニュース"}),(0,n.jsx)("span",{children:"お問い合わせ"}),"/login"!==s.pathname&&"/mypage"!==s.pathname&&(0,n.jsx)("span",{onClick:i,children:"ログイン"}),"/signup"!==s.pathname&&"/mypage"!==s.pathname&&(0,n.jsx)("span",{className:l().account,onClick:c,children:"アカウント開設"})]}),(0,n.jsxs)("div",{className:"".concat(l().menuButton," ").concat(e?l().open:""),onClick:()=>a(!e),children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})]}),(0,n.jsx)("div",{className:l().menu,children:e&&(0,n.jsxs)("div",{className:l().dropdown,children:[(0,n.jsx)("span",{className:l().menuItem,onClick:()=>a(!1),children:"ビジョン"}),(0,n.jsx)("span",{className:l().menuItem,onClick:()=>a(!1),children:"ニュース"}),(0,n.jsx)("span",{className:l().menuItem,onClick:()=>a(!1),children:"お問い合わせ"}),"/login"!==s.pathname&&"/mypage"!==s.pathname&&(0,n.jsx)("span",{className:l().menuItem,onClick:i,children:"ログイン"}),"/signup"!==s.pathname&&"/mypage"!==s.pathname&&(0,n.jsx)("span",{className:l().menuItem,onClick:c,children:"アカウント開設"})]})})]})}},2997:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return N}});var n=s(5893),t=s(5511),r=s(1163),i=s(7294),l=s(3376),c=s(4857),o=s(328);let m=async(e,a)=>{try{let s=(0,o.l)(),n=await (0,c.Xb)(s,e,a);return n.user}catch(e){throw console.error("Error signing up with email and password:",e),e}};var d=s(1293),u=s.n(d);let p=e=>{let{firstName:a,setFirstName:s,lastName:t,setLastName:r,email:i,setEmail:l,password:c,setPassword:o,passwordConfirmation:m,setPasswordConfirmation:d,emailPreferences:u,setEmailPreferences:p,errors:h,setErrors:x,handleNextClick:_,styles:j}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:j.title,children:"アカウント登録"}),(0,n.jsxs)("form",{children:[(0,n.jsxs)("div",{className:j.formGroup,children:[(0,n.jsx)("label",{children:"氏名"}),(0,n.jsxs)("div",{className:j.nameInput,children:[(0,n.jsxs)("div",{className:j.nameArea,children:[(0,n.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"山田"}),null!==h.lastName&&(0,n.jsx)("div",{className:j.error,children:h.lastName})]}),(0,n.jsxs)("div",{className:j.nameArea,children:[(0,n.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),placeholder:"太郎"}),null!==h.firstName&&(0,n.jsx)("div",{className:j.error,children:h.firstName})]})]})]}),(0,n.jsxs)("div",{className:j.formGroup,children:[(0,n.jsx)("label",{children:"メールアドレス"}),(0,n.jsx)("input",{type:"email",value:i,onChange:e=>l(e.target.value),placeholder:"example@example.com"}),null!==h.email&&(0,n.jsx)("div",{className:j.error,children:h.email})]}),(0,n.jsxs)("div",{className:j.formGroup,children:[(0,n.jsx)("label",{children:"パスワード"}),(0,n.jsx)("input",{type:"password",value:c,onChange:e=>o(e.target.value),onBlur:()=>{if(c.length<6){x(e=>({...e,password:"パスワードは6文字以上の半角英数字で入力してください。"}));return}if(!/^[a-zA-Z0-9]+$/.test(c)){x(e=>({...e,password:"パスワードは6文字以上の半角英数字で入力してください。"}));return}},placeholder:"6文字以上の半角英数字"}),null!==h.password&&(0,n.jsx)("div",{className:j.error,children:h.password})]}),(0,n.jsxs)("div",{className:j.formGroup,children:[(0,n.jsx)("label",{children:"パスワード（確認）"}),(0,n.jsx)("input",{type:"password",value:m,onChange:e=>d(e.target.value),placeholder:"6文字以上の半角英数字"}),null!==h.passwordConfirmation&&(0,n.jsx)("div",{className:j.error,children:h.passwordConfirmation})]})]}),(0,n.jsx)("button",{className:j.createButton,type:"button",onClick:_,children:"つぎへ"})]})},h=e=>{let{email:a,handleNextClick:s,verificationCode:t,setVerificationCode:r,sentCode:l,sendEmailVerification:c,styles:o}=e,[m,d]=(0,i.useState)(""),u=(0,i.useRef)([]),p=(e,a)=>{let s=a.match(/[０-９]/)?a.replace(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)):a;if(""===s||s.match(/^\d$/)){let a=[...t];if(a[e]=s,r(a),s.match(/^\d$/)){let a=u.current[e+1];a&&a.focus()}}};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:o.title,children:"メールアドレス認証"}),(0,n.jsx)("form",{children:(0,n.jsxs)("div",{className:o.formGroup,children:[(0,n.jsxs)("p",{className:o.certificationMail,children:["認証コードを ",a," に送信しました。"]}),(0,n.jsx)("p",{className:o.mail,children:"メール受信箱を確認し、下記に認証コードを入力してあなたのメールアドレスを認証してください。"}),(0,n.jsx)("div",{className:o.codeInputContainer,children:Array.from({length:6}).map((e,a)=>(0,n.jsx)("input",{type:"text",value:t[a],onChange:e=>p(a,e.target.value),maxLength:1,className:o.codeInput,ref:e=>u.current[a]=e},a))}),m&&(0,n.jsx)("p",{className:o.error,children:m})]})}),(0,n.jsx)("button",{className:o.createButton,onClick:()=>{t.join("")===l?s():d("認証コードが正しくありません。")},children:"確認"}),(0,n.jsx)("button",{className:o.resendButton,onClick:c,children:"コードを再送"})]})},x=e=>{let{styles:a,firstName:s,lastName:t,email:r,password:i,emailPreferences:l,handleNextClick:c,handlebackClick:o}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:a.title,children:"登録情報確認"}),(0,n.jsxs)("form",{children:[(0,n.jsxs)("div",{className:a.formGroup,children:[(0,n.jsx)("label",{className:a.formLabel,children:"氏名"}),(0,n.jsxs)("div",{className:a.nameInput,children:[(0,n.jsx)("p",{className:a,children:t}),(0,n.jsx)("p",{children:s})]})]}),(0,n.jsxs)("div",{className:a.formGroup,children:[(0,n.jsx)("label",{className:a.formLabel,children:"メールアドレス"}),(0,n.jsx)("p",{children:r})]}),(0,n.jsxs)("div",{className:a.formGroup,children:[(0,n.jsx)("label",{className:a.formLabel,children:"パスワード"}),(0,n.jsx)("p",{children:i.replace(/./g,"●")})]}),(0,n.jsxs)("div",{className:a.formGroup,children:[(0,n.jsx)("label",{className:a.formLabel,children:"メール設定"}),(0,n.jsx)("p",{children:l?"希望する":"希望しない"})]})]}),(0,n.jsxs)("div",{className:a.buttonContainer,children:[(0,n.jsx)("button",{className:a.changeStepButton,type:"button",onClick:o,children:"修正する"}),(0,n.jsx)("button",{className:a.changeStepButton,type:"button",onClick:c,children:"つぎへ"})]})]})},_=()=>{let e=(0,r.useRouter)(),[a,s]=(0,i.useState)(1),[t,c]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[_,j]=(0,i.useState)(""),[N,v]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),[S,b]=(0,i.useState)(!1),[C,y]=(0,i.useState)({}),[w,I]=(0,i.useState)([]),[F,k]=(0,i.useState)(null),E=()=>{let e={},a=RegExp("^[\\p{Script=Hiragana}\\p{Script=Katakana}\\p{Script=Han}ーa-zA-Z\\s]+$","u");return o&&"string"==typeof o&&a.test(o)||(e.lastName="正しい苗字を入力してください。"),t&&"string"==typeof t&&a.test(t)||(e.firstName="正しい名前を入力してください。"),_&&"string"==typeof _&&/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(_)||(e.email="有効なメールアドレスを入力してください。"),o&&"string"==typeof o||(e.lastName="苗字が未記入です"),t&&"string"==typeof t||(e.firstName="名前が未記入です"),_&&"string"==typeof _||(e.email="メールアドレスが未記入です"),N&&"string"==typeof N||(e.password="パスワードが未記入です"),N.length<6?e.password="パスワードは6文字以上の半角英数字で入力してください。":/^[a-zA-Z0-9]+$/.test(N)||(e.password="パスワードは6文字以上の半角英数字で入力してください。"),("string"!=typeof N||"string"!=typeof f||N!==f)&&(e.passwordConfirmation="パスワードが一致していません。"),e},L=()=>{let e=Math.floor(1e6*Math.random()).toString().padStart(6,"0");return e.split("")},B=()=>{let e=L();k(e.join("")),l.x.mailVerification.$post({body:{email:_,code:e.join("")}})},A=async()=>{let n=E();if(0===Object.keys(n).length){if(2===a)B();else if(3===a)try{let a=await m(_,N);await l.x.employee.$post({body:{name:"".concat(o," ").concat(t),email:_,firebaseUid:a.uid}}),e.push("/mypage")}catch(e){console.error("Error signing up:",e)}s(a+1)}else y(n)};return(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsxs)("div",{className:u().progressContainer,children:[(0,n.jsx)("div",{className:"".concat(u().progressStep," ").concat(1===a?u().activeStep:""),children:"1.仮登録"}),(0,n.jsx)("div",{className:"".concat(u().progressStep," ").concat(2===a?u().activeStep:""),children:"2.仮登録確認"}),(0,n.jsx)("div",{className:"".concat(u().progressStep," ").concat(3===a?u().activeStep:""),children:"3.メールアドレス認証"})]}),(0,n.jsxs)("div",{className:u().form,children:[1===a&&(0,n.jsx)(p,{firstName:t,setFirstName:c,lastName:o,setLastName:d,email:_,setEmail:j,password:N,setPassword:v,passwordConfirmation:f,setPasswordConfirmation:g,emailPreferences:S,setEmailPreferences:b,errors:C,setErrors:y,handleNextClick:A,styles:u()}),2===a&&(0,n.jsx)(x,{firstName:t,lastName:o,email:_,password:N,emailPreferences:S,handleNextClick:A,handlebackClick:()=>{s(a-1)},styles:u()}),3===a&&(0,n.jsx)(h,{email:_,handleNextClick:A,verificationCode:w,setVerificationCode:I,sentCode:F,sendEmailVerification:B,styles:u()})]})]})};var j=s(1587),N=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.h,{}),(0,n.jsx)(_,{}),(0,n.jsx)(t.$,{})]})},7889:function(e){e.exports={container:"Footer_container__Dj1D9",content:"Footer_content__a1cH7",logoSection:"Footer_logoSection__60cxm",logo:"Footer_logo__C9vo8",navSection:"Footer_navSection__F3PZo",navItem:"Footer_navItem__8Yj1Y",navLabel:"Footer_navLabel__NydQx",subNavItem:"Footer_subNavItem__AWV74"}},1293:function(e){e.exports={container:"FormSection_container__uyAoo",form:"FormSection_form__EWuLg",title:"FormSection_title__z0Djb",formGroup:"FormSection_formGroup__HwLYb",nameArea:"FormSection_nameArea__xAbMX",nameInput:"FormSection_nameInput__jGED_",error:"FormSection_error__zfi1E",mailGroup:"FormSection_mailGroup__nAU6H",createButton:"FormSection_createButton__Hii3X",progressContainer:"FormSection_progressContainer__ucPBo",progressStep:"FormSection_progressStep__pnB3Z",activeStep:"FormSection_activeStep__ndpc0",formLabel:"FormSection_formLabel__LAY7m",buttonContainer:"FormSection_buttonContainer__P9kvK",changeStepButton:"FormSection_changeStepButton__cTCfj",certificationMail:"FormSection_certificationMail__tlBtB",mail:"FormSection_mail__xfX4_",codeInputContainer:"FormSection_codeInputContainer__LHqbs",codeInput:"FormSection_codeInput__RvdeG",resendButton:"FormSection_resendButton__kvM7j"}},1014:function(e){e.exports={container:"Header_container__3JNoS",left:"Header_left__2EE3i",right:"Header_right__IaiY4",account:"Header_account__usRDz",menuButton:"Header_menuButton__mlszh",open:"Header_open__jNVWy",menu:"Header_menu__UYmdC",dropdown:"Header_dropdown__f5upL",menuItem:"Header_menuItem__DuO3o"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5975)}),_N_E=e.O()}]);